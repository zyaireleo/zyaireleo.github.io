<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Linux复习总结 | 如今听雨僧庐下</title><meta name="keywords" content="个人博客了啦。"><meta name="author" content="Zyaire"><meta name="copyright" content="Zyaire"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="description" content="基础命令重启主机：reboot重启网卡：systemctl restart network.service查看ip地址：ip addr清屏:ctrl +l虚拟机克隆后： systemctl restart network.service命令执行会报错，原因是MAC地址不正确，在网卡路径：&#x2F;etc&#x2F;sysconfig&#x2F;network-scripts&#x2F;ifcfg-enoxxxx修改MAC地址 linu">
<meta property="og:type" content="article">
<meta property="og:title" content="Linux复习总结">
<meta property="og:url" content="http://example.com/2020/11/05/Linux%E5%A4%8D%E4%B9%A0%E6%80%BB%E7%BB%93/index.html">
<meta property="og:site_name" content="如今听雨僧庐下">
<meta property="og:description" content="基础命令重启主机：reboot重启网卡：systemctl restart network.service查看ip地址：ip addr清屏:ctrl +l虚拟机克隆后： systemctl restart network.service命令执行会报错，原因是MAC地址不正确，在网卡路径：&#x2F;etc&#x2F;sysconfig&#x2F;network-scripts&#x2F;ifcfg-enoxxxx修改MAC地址 linu">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg">
<meta property="article:published_time" content="2020-11-05T00:55:08.000Z">
<meta property="article:modified_time" content="2021-06-03T06:35:35.481Z">
<meta property="article:author" content="Zyaire">
<meta property="article:tag" content="个人博客了啦。">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://example.com/2020/11/05/Linux%E5%A4%8D%E4%B9%A0%E6%80%BB%E7%BB%93/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  ClickShowText: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  justifiedGallery: {
    js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
    css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
};

var saveToLocal = {
  set: function setWithExpiry(key, value, ttl) {
    const now = new Date()
    const expiryDay = ttl * 86400000
    const item = {
      value: value,
      expiry: now.getTime() + expiryDay,
    }
    localStorage.setItem(key, JSON.stringify(item))
  },

  get: function getWithExpiry(key) {
    const itemStr = localStorage.getItem(key)

    if (!itemStr) {
      return undefined
    }
    const item = JSON.parse(itemStr)
    const now = new Date()

    if (now.getTime() > item.expiry) {
      localStorage.removeItem(key)
      return undefined
    }
    return item.value
  }
}</script><script id="config_change">var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2021-06-03 14:35:35'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(function () {  window.activateDarkMode = function () {
    document.documentElement.setAttribute('data-theme', 'dark')
    if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
    }
  }
  window.activateLightMode = function () {
    document.documentElement.setAttribute('data-theme', 'light')
   if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
    }
  }
  const autoChangeMode = 'false'
  const t = saveToLocal.get('theme')
  if (autoChangeMode === '1') {
    const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
    const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
    const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
    const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified
    if (t === undefined) {
      if (isLightMode) activateLightMode()
      else if (isDarkMode) activateDarkMode()
      else if (isNotSpecified || hasNoSupport) {
        const now = new Date()
        const hour = now.getHours()
        const isNight = hour <= 6 || hour >= 18
        isNight ? activateDarkMode() : activateLightMode()
      }
      window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
        if (saveToLocal.get('theme') === undefined) {
          e.matches ? activateDarkMode() : activateLightMode()
        }
      })
    } else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else if (autoChangeMode === '2') {
    const now = new Date()
    const hour = now.getHours()
    const isNight = hour <= 6 || hour >= 18
    if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
    else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else {
    if (t === 'dark') activateDarkMode()
    else if (t === 'light') activateLightMode()
  }const asideStatus = saveToLocal.get('aside-status')
if (asideStatus !== undefined) {
   if (asideStatus === 'hide') {
     document.documentElement.classList.add('hide-aside')
   } else {
     document.documentElement.classList.remove('hide-aside')
   }
}})()</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/tzki/tzki.github.io/css/pool.css"><link rel="stylesheet" href="css/background.css"><meta name="generator" content="Hexo 5.2.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src="/null" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">16</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">11</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">3</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> HOME</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> ARTICLE</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> LABEL</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> CATEGORY</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> LINK</span></a></div><div class="menus_item"><a class="site-page" href="/messageboard"><i class="fa-fw fa fa-paper-plane"></i><span> MESSAGEBOARD</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> ABOUT</span></a></div></div></div></div><div id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg)"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">如今听雨僧庐下</a></span><span id="menus"><div id="search_button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> HOME</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> ARTICLE</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> LABEL</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> CATEGORY</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> LINK</span></a></div><div class="menus_item"><a class="site-page" href="/messageboard"><i class="fa-fw fa fa-paper-plane"></i><span> MESSAGEBOARD</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> ABOUT</span></a></div></div><span class="close" id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></span></span></nav><div id="post-info"><h1 class="post-title">Linux复习总结</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2020-11-05T00:55:08.000Z" title="发表于 2020-11-05 08:55:08">2020-11-05</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-06-03T06:35:35.481Z" title="更新于 2021-06-03 14:35:35">2021-06-03</time></span></div><div class="meta-secondline"> <span class="post-meta-separator">|</span><span class="post-meta-pv-cv"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h4 id="基础命令"><a href="#基础命令" class="headerlink" title="基础命令"></a>基础命令</h4><p>重启主机：reboot<br>重启网卡：systemctl restart network.service<br>查看ip地址：ip addr<br>清屏:ctrl +l<br>虚拟机克隆后： systemctl restart network.service命令执行会报错，原因是MAC地址不正确，在网卡路径：/etc/sysconfig/network-scripts/ifcfg-enoxxxx修改MAC地址</p>
<h4 id="linux核心操作"><a href="#linux核心操作" class="headerlink" title="linux核心操作"></a>linux核心操作</h4><h5 id="linux必备基础命令-一"><a href="#linux必备基础命令-一" class="headerlink" title="linux必备基础命令(一)"></a>linux必备基础命令(一)</h5><ul>
<li>cd命令<br>功能说明：切换目录。<br>举 例：cd /usr/local/；cd ..；cd -（返回上次路径）</li>
<li>ls命令<br>功能说明：列出目录内容。<br>举 例：ls -ltr ；ls -lrt /home/</li>
<li>pwd命令<br>功能说明：查询所在目录。<br>举 例： pwd</li>
<li>cat命令<br>功能说明：查看小文件内容。<br>举 例：cat -n 123.txt</li>
<li>more命令<br>功能说明：查看大文件内容<br>举 例：more System.map-3.10.0-123.el7.x86_64</li>
<li>head命令<br>功能说明：查看文件的前面N行。<br>举 例：head -20 System.map-3.10.0-123.el7.x86_64</li>
<li>tail命令<br>功能说明：查看文件的后面N行。<br>举 例：tail -f access.log ；tail -20 access.log</li>
<li>touch命令<br>功能说明：创建一个空文件。<br>举 例：touch 123.txt</li>
<li>mkdir命令<br>功能说明：创建目录。<br>举 例：mkdir -p /tmp/XD/XD/class</li>
<li>rmdir命令<br>功能说明：删除目录。<br>举 例：rmdir /tmp/XD/XD/class</li>
<li>cp命令<br>功能说明：拷贝文件。<br>举 例：cp 123.txt class/ ； cp -a 123.txt class/789.txt</li>
<li>mv命令<br>功能说明：移动或更名现有的文件或目录。<br>举 例：mv 123.txt 345.php ；mv 789.txt /home/987.php</li>
<li>rm命令<br>功能说明：删除文件或目录。<br>举 例：rm 987.php ；rm -rf 456.txt</li>
<li>diff命令<br>功能说明：对比文件差异。<br>举 例：diff 123.txt 456.txt</li>
<li>sh命令<br>功能说明：远程安全登录方式。<br>举 例：ssh 192.168.226.131</li>
<li>exit命令<br>功能说明：退出命令。<br>举 例：</li>
<li>id命令<br>功能说明：查看用户。<br>举 例：id root</li>
<li>uname命令<br>功能说明：查询主机信息。<br>举 例：uname -a</li>
<li>ping命令</li>
</ul>
<h5 id="linux必备基础命令-二"><a href="#linux必备基础命令-二" class="headerlink" title="linux必备基础命令(二)"></a>linux必备基础命令(二)</h5><p>简介：讲解工作中常用的基础命令</p>
<ul>
<li><p>ping命令</p>
<p>功能说明：查看网络是否通。<br>举 例：ping 192.168.226.131</p>
</li>
<li><p>echo命令<br>功能说明：标准输出命令。<br>举 例：echo “this is echo 命令”</p>
</li>
<li><p>man命令(ls –help)<br>功能说明：查看帮助文档<br>举 例：man ls</p>
</li>
<li><p>help命令<br>功能说明：查看内部命令帮助<br>举 例:help if</p>
</li>
<li><p>clear命令<br>功能说明：清屏。<br>举 例：clear ; ctrl + l</p>
</li>
<li><p>who命令<br>功能说明：当前在本地系统上的所有用户的信息<br>举 例：whoami ; who</p>
</li>
<li><p>uptime命令<br>功能说明：查询系统信息<br>举 例：<br>load average: 0.00, 0.01, 0.05 1分钟的负载，5分钟的负载，15分钟的负载</p>
</li>
<li><p>w命令<br>功能说明：查询系统信息<br>举 例：w</p>
</li>
<li><p>free命令<br>功能说明：查看系统内存<br>举 例：free -h ; free -m</p>
</li>
<li><p>wc命令<br>功能说明：统计行。<br>举 例：wc -l 123.txt</p>
</li>
<li><p>grep命令<br>功能说明：查找文件里符合条件的字符串。<br>举 例：grep ‘119.4.253.206’ 123.txt | wc -l<br>-n:输出行数 grep -n ‘80.82.70.187’ 123.txt<br>-w:精确匹配 grep -w ‘113.66.107.198’ 123.txt<br>-i:忽略大小写 grep -i ‘IP:113.66.107.198’ 123.txt<br>-v:反向选择 grep -v ‘113.66.107.198’ 123.txt</p>
</li>
<li><p>find命令<br>功能说明：查询文件。<br>举 例：find / -name -type f 123.txt</p>
</li>
<li><p>uniq命令<br>功能说明：对排序好的内容进行统计<br>举 例：uniq -c 123.txt | sort -n</p>
</li>
<li><p>sort命令<br>功能说明：对内容进行排序<br>举 例：uniq -c 123.txt | sort -n</p>
</li>
<li><p>df命令<br>功能说明：文件系统的磁盘使用情况统计。<br>举 例：df -h</p>
</li>
<li><p>netstat<br>功能说明：查看网络端口的使用情况<br>举 例：netstat -tunlp | grep nginx<br>-t ：显示tcp端口<br>-u ：显示UDP端口<br>-n ：指明拒绝显示别名<br>-l ：指明listen的<br>-p ：指明显示建立相关连接的程序名<br>安装netstat命令：yum -y install net-tools</p>
</li>
<li><p>hostname命令<br>功能说明：查看主机名<br>举 例：hostname</p>
</li>
<li><p>ps命令<br>功能说明：显示所有进程信息。 ps 与grep 常用组合用法，查找特定进程<br>举 例：ps -ef | grep nginx<br>ps -aux | grep nginx</p>
</li>
<li><p>kill命令<br>功能说明：杀进程<br>举 例： kill -9 top</p>
</li>
<li><p>top命令<br>功能说明：监控Linux系统状况，比如cpu、内存的使用<br>举 例：按住键盘q退出</p>
</li>
<li><p>du命令<br>功能说明：统计大小<br>举 例：du -sh ； du -sm *</p>
</li>
<li><p>firewall-cmd命令<br>功能说明：查看防火墙的状态<br>举 例：firewall-cmd –state<br>centos 7 关闭防火墙：systemctl stop firewalld.service</p>
</li>
<li><p>echo命令<br>功能说明：判断上一条命令是否正确<br>举 例：echo $?</p>
</li>
<li><p>cal命令<br>功能说明：查看日历<br>举 例：cal 2008</p>
</li>
</ul>
<h5 id="linux输入输出错误重定向"><a href="#linux输入输出错误重定向" class="headerlink" title="linux输入输出错误重定向"></a>linux输入输出错误重定向</h5><p>简介：介绍输入输出错误重定向的使用</p>
<ul>
<li><p>输入重定向： &lt;</p>
<p>通俗的讲，输入重定向就是把要输入的信息写入到指定的文件中去</p>
<p>eg：wc -l &lt; 123.txt</p>
</li>
<li><p>输出重定向：&gt; #代表覆盖写入 ； &gt;&gt; #代表追加写入</p>
<p>通俗的讲，输出重定向就是把要输出的信息写入到一个文件中去，而不是将要输出的文件信息输</p>
<p>eg： cat &gt;&gt; 123.txt ; cat &gt; 123.txt ; ls -lrt &gt;123.txt ; echo ‘123455’ &gt; 123.txt</p>
</li>
<li><p>错误重定向：</p>
<p>通俗的讲，错误重定向就是把错误的信息写入到一个文件中去</p>
<p> eg：llll 2&gt; 123.txt ； llll 2&gt; /dev/null #/dev/null 无底洞</p>
</li>
<li><p>linux中一切皆文件</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">posix名称 文件描述符 用途</span><br><span class="line">&#x2F;dev&#x2F;stdin 0 标准输入</span><br><span class="line">&#x2F;dev&#x2F;stdout 1 标准输出</span><br><span class="line">&#x2F;dev&#x2F;stderr 2 标准错误输出</span><br></pre></td></tr></table></figure>
</li>
<li><p>几个符号：</p>
<ul>
<li>&amp; #代表等同于的 意思 ls -lrt /boot /test 1&gt;/root/123.txt 2&gt;&amp;1</li>
<li>&amp;&gt; #代表不分正确还是错误的意思 ls -lrt /boot /test &amp;&gt;123.txt</li>
<li>| #管道符</li>
<li>; #代表的是可以执行多条命令 cat /etc/passwd | grep root ; ls -lrt</li>
<li>&amp;&amp; #前面的命令执行成功的话，后面的才可以执行成功；前面的命令执行失败的话，后面的不可以执行</li>
<li>|| #前面的命令执行成功的话，后面的不可以执行；前面的命令执行失败的话，后面的可以执行</li>
</ul>
</li>
</ul>
<h4 id="常见目录"><a href="#常见目录" class="headerlink" title="常见目录"></a>常见目录</h4><p>​    centos7：</p>
<ul>
<li><p>/：根目录，一般根目录下只存放目录，不要存放文件，也不要修改，或者删除目录下的内容</p>
</li>
<li><p>/mnt：测试目录</p>
</li>
<li><p>/root：root用户的家目录</p>
</li>
<li><p>/home：普通用户的家目录</p>
</li>
<li><p>/tmp：临时目录(比如文件上传时)</p>
</li>
<li><p>/var：存放经常修改的数据，比如程序运行的日志文件</p>
</li>
<li><p>/boot：存放的启动Linux 时使用的内核文件，包括连接文件以及镜像文件</p>
</li>
<li><p>/etc：系统默认放置配置文件的地方</p>
</li>
<li><p>/bin：所有用户都能执行的程序</p>
</li>
<li><p>/sbin：只有root才能执行的程序</p>
</li>
<li><p>/usr：用户自己的软件都可以放到这儿来</p>
</li>
<li><p>/dev：存放硬件设备的地方(/dev/cdrom)<br>/media：挂载光盘使用的</p>
</li>
<li><p>挂载光盘：mount /dev/cdrom /media</p>
</li>
<li><p>卸载光盘：umount /dev/cdrom<br>绝对路径：说白了就是完整的路径</p>
<p>相对路径：相对于当前位置路径 ./ 代表的是当前目录的意思 ../ 代表的是上一级目录的意思</p>
</li>
</ul>
<h4 id="进阶操作"><a href="#进阶操作" class="headerlink" title="进阶操作"></a>进阶操作</h4><h5 id="虚拟机与外部物理机时间同步"><a href="#虚拟机与外部物理机时间同步" class="headerlink" title="虚拟机与外部物理机时间同步"></a>虚拟机与外部物理机时间同步</h5><ul>
<li><p>卸载的光盘的时候：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@localhost media]# umount &#x2F;dev&#x2F;cdrom</span><br><span class="line">umount: &#x2F;media: target is busy.</span><br><span class="line">(In some cases useful info about processes that use</span><br><span class="line">the device is found by lsof(8) or fuser(1))</span><br></pre></td></tr></table></figure>
</li>
<li><p>解决方法：</p>
<ul>
<li>首先确认联网状态</li>
<li>yum install -y psmisc</li>
<li>fuser -mv /media</li>
<li>fuser -kv /media</li>
</ul>
</li>
<li><p>date命令</p>
<ul>
<li>date “+%Y-%m-%d %H:%M:%S”</li>
<li>date -s “2020-10-1 22:00:00”</li>
<li>date -d yesterday “+%Y-%m-%d %H:%M:%S”</li>
<li>date “+%w”</li>
</ul>
</li>
<li><p>安装VMwareTools</p>
<ul>
<li>第一步打开虚拟机，安装VMwareTools使工具软件包下载到光盘</li>
<li>挂载光盘到linux系统</li>
<li>cp VMwareTools-10.2.0-7259539.tar.gz /root/</li>
<li>umount /dev/cdrom</li>
<li>tar -xf VMwareTools-10.2.0-7259539.tar.gz</li>
<li>cd vmware-tools-distrib</li>
<li>yum -y install perl-Data-Dumper</li>
<li>./vmware-install.pl</li>
<li>一路按住键盘的 回车 键，选用默认</li>
<li>echo $? 验证是否安装成功，返回0就是成功</li>
<li>验证里面虚拟机的时间是否与外部物理机的时间同步</li>
</ul>
</li>
</ul>
<h5 id="vi编辑器"><a href="#vi编辑器" class="headerlink" title="vi编辑器"></a>vi编辑器</h5><ul>
<li><p>vi的基本概念:（三种模式）</p>
<ol>
<li>命令模式</li>
<li>插入模式</li>
<li>底行模式</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">进入插入模式：按住键盘的 i 或者 o 或者 a</span><br><span class="line">进入命令模式：按住键盘的左上角esc键</span><br><span class="line">进入底行模式：前提是得在命令模式，输入 ： 进入</span><br></pre></td></tr></table></figure>
</li>
<li><p>在命令行模式中的操作：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ #移动到这一行的行尾</span><br><span class="line">gg #移动到文档第一行行首</span><br><span class="line">G #移动到文档最后一行行首</span><br><span class="line">x #删除内容，删除一个字符</span><br><span class="line">dd #删除游标所在的那一整行</span><br><span class="line">u #复原原来的操作</span><br><span class="line">v #选中范围按y即复制</span><br><span class="line">p #粘贴</span><br></pre></td></tr></table></figure>
</li>
<li><p>在底行模式中的操作：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">n #n为数字。光标移动到第n 行</span><br><span class="line">&#x2F; #寻找内容</span><br><span class="line">%s&#x2F;word1&#x2F;word2&#x2F;g #从第一行到最后一行寻找 word1 字符串，并将该字符串取代为 word2</span><br><span class="line">n1,n2s&#x2F;word1&#x2F;word2&#x2F;g #n1 与 n2 为数字。在第 n1 与 n2 行之间寻找 word1 这个字符串，并将该字符串取代为 word2</span><br><span class="line">set nu #显示行号</span><br><span class="line">set nonu #取消行号</span><br><span class="line">q! #强制离开不保存</span><br><span class="line">wq #离开并保存</span><br><span class="line">wq! #强制离开并保存</span><br><span class="line">!ls #暂时离开</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h5 id="inux的用户管理与组管理"><a href="#inux的用户管理与组管理" class="headerlink" title="inux的用户管理与组管理"></a>inux的用户管理与组管理</h5><ul>
<li>linux用户的分类：</li>
</ul>
<ol>
<li>超级用户root：拥有至高无上的权限 UID：0</li>
<li>普通用户：权限有一定的限制，可以登录系统。一般可以执行/usr/local/bin或者/bin或者/usr/bin或者自己家目录的命令 UID：500 -60000 （centos 6） UID：1000 - 60000（centos7）</li>
<li>系统用户（伪用户）：一般不会登录系统，一般情况是用来维持某个服务程序 UID ：1-499 （centos6）UID ：1-1000 （centos 7）</li>
</ol>
<ul>
<li><p>关于用户的相关配置文件</p>
<ul>
<li><p>账号信息：/etc/passwd</p>
</li>
<li><p>密码信息：/etc/shadow</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">test :x :1000 :1000 : :&#x2F;home&#x2F;test :&#x2F;bin&#x2F;bash</span><br><span class="line">用户 密码占位符 UID GID 用户描述 用户家目录 登录后使用的shell解释</span><br><span class="line">&#x2F;sbin&#x2F;nologin #是不可登录的</span><br><span class="line">&#x2F;bin&#x2F;bash #可以登录</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>添加用户命令：useradd</p>
<ul>
<li><p>-u #指定用户UID</p>
</li>
<li><p>-d #指定用户主目录</p>
</li>
<li><p>-g #指定用户所属组</p>
</li>
<li><p>-r #指定用户是系统用户</p>
</li>
<li><p>-s #用户登录shell解释器</p>
</li>
<li><p>-M #不创建主目录<br>eg：创建一个用户XD，指定UID为1010，指定家目录为/home/XD ,指定所属组为root组，指定登录shell为/bin/bash</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">useradd -u 1010 -d &#x2F;home&#x2F;XD -g root -s &#x2F;bin&#x2F;bash XD</span><br></pre></td></tr></table></figure>
</li>
<li><p>登录用户时出现以下信息如何解决：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">如下：</span><br><span class="line">bash-4.2$</span><br><span class="line">bash-4.2$</span><br><span class="line">解决：复制相关信息到家目录</span><br><span class="line">cp -r &#x2F;etc&#x2F;skel&#x2F;.bash* &#x2F;home&#x2F;XD&#x2F;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>删除用户命令：userdel</p>
<ul>
<li>-r #连同家目录一块删除</li>
</ul>
</li>
<li><p>添加用户组命令：groupadd</p>
</li>
<li><p>删除用户组命令：groupdel</p>
</li>
<li><p>修改用户的信息命令：usermod</p>
<ul>
<li>-u #指定用户UID</li>
<li>-d #指定用户主目录</li>
<li>-g #指定用户所属组</li>
</ul>
</li>
<li><p>设置用户密码命令passwd</p>
<ul>
<li>passwd XD</li>
<li>echo “123456” | passwd –stdin XD</li>
</ul>
</li>
</ul>
<h5 id="文件属性与权限操作"><a href="#文件属性与权限操作" class="headerlink" title="文件属性与权限操作"></a>文件属性与权限操作</h5><ul>
<li><p>文件的属性：ls -lrti</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">135088935 -rw-------. 1 root root 1778 Oct 1 2020 yum.log第一列：i节点；i节点可以理解文件id，一个i节点号可以对应多个文件，一个文件只能对应一个i节点号</span><br><span class="line">第二列：文件的类型与权限</span><br><span class="line"></span><br><span class="line">- #代表的是文件；d#代表是目录； l #软链接文件 ；b #代表块设备；c #代表的是硬件设备（键盘）</span><br><span class="line">  r：表示读权限 ；w：表示写权限；x：表示执行权限</span><br><span class="line">  4：表示读权限 ；2：表示写权限；1：表示执行权限</span><br><span class="line">  rw-------:分为三列 rw- --- ---，第一列为所属者的权限，第二列为所属组的权限，第三列为其它的权限</span><br><span class="line">  第三列：有多少文件名链接到这个节点</span><br><span class="line">  第四列：文件的所有者</span><br><span class="line">  第五列：文件的所有组</span><br><span class="line">  第六列：容量大小，单位默认为B</span><br><span class="line">  第八列：创建或最近修改的时间</span><br><span class="line">  第九列：文件名</span><br></pre></td></tr></table></figure>
</li>
<li><p>链接</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">软连接：ln -s</span><br><span class="line">eg：ln -s &#x2F;home&#x2F;XD&#x2F;yum.log &#x2F;usr&#x2F;local&#x2F;</span><br><span class="line">i节点号跟源文件不一样，源文件一旦删除，软链接将找不到源文件</span><br><span class="line">硬链接：ln</span><br><span class="line">eg：ln &#x2F;home&#x2F;XD&#x2F;yum.log &#x2F;usr&#x2F;local&#x2F;XD&#x2F;</span><br><span class="line">i节点与源文件一模一样，源文件删除，硬链接还可以继续使用。常用于防止重要文件被误删</span><br></pre></td></tr></table></figure>
</li>
<li><p>修改文件的权限命令chmod：</p>
<ul>
<li><p>-R #递归的意思</p>
</li>
<li><p>chmod -R 777 /home/XD/*</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">eg：</span><br><span class="line">chmod u+x,g+w,o+w boot.log</span><br><span class="line">chmod u-x,g-w,o-w boot.log</span><br><span class="line">chmod 777 boot.log</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>修改文件的所有者跟所属组命令chown：</p>
<ul>
<li>-R #递归的意思</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">eg：更改文件目录XD 的所属者为root用户 跟 所属组为XD组</span><br><span class="line">chown -R root:XD XD</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h5 id="文件归档与解压缩"><a href="#文件归档与解压缩" class="headerlink" title="文件归档与解压缩"></a>文件归档与解压缩</h5><ul>
<li><p>文件归档：</p>
<p>​    文件归档也称之为打包，指的是一个文件或者多个文件或者目录的一个集合，这个集合储存在一个文件中。归档文件是没有进行压缩的，所以占用的空间是所有文件或者目录的总和。工作中经常与压缩结合在一起使用</p>
</li>
<li><p>文件压缩：</p>
<p>节约磁盘空间，加快文件的传输速率</p>
</li>
</ul>
<h6 id="解压缩命令"><a href="#解压缩命令" class="headerlink" title="解压缩命令"></a>解压缩命令</h6><ul>
<li>gzip：不能压缩目录，只能压缩文件，压缩速度最快，但是压缩比例比较低。扩展名：.gz<ul>
<li>不保留源文件压缩：gzip 123.txt</li>
<li>保留源文件压缩：gzip -c 345.txt &gt; 345.txt.gz</li>
<li>不保留源文件的解压：gunzip 123.txt.gz</li>
<li>保留原文件的解压：gunzip -c 345.txt.gz &gt; 234.txt</li>
<li>不保留源文件解压：gzip -d 345.txt.gz</li>
</ul>
</li>
<li>xz ：可以压缩目录和文件压缩的速度比较慢，但是压缩比例最高。扩展名：.xz<ul>
<li>不保留源文件压缩：xz 123.txt</li>
<li>保留源文件压缩：xz -c 345.txt &gt; 345.txt.xz</li>
<li>不保留源文件的解压：unxz 345.txt.xz</li>
<li>保留原文件的解压：xz -d -k 123.txt.xz</li>
<li>不保留源文件解压：xz -d 123.txt.xz</li>
</ul>
</li>
</ul>
<h6 id="归档与压缩命令"><a href="#归档与压缩命令" class="headerlink" title="归档与压缩命令"></a>归档与压缩命令</h6><p>​    tar：</p>
<ul>
<li><p>-c #创建新文件</p>
</li>
<li><p>-f #指定文件格式</p>
</li>
<li><p>-v #显示详细过程</p>
<p>eg：</p>
<ul>
<li>tar -cf vmware.tar vmware-tools-distrib；</li>
<li>tar -cvf vmware-tools.tar vmware-tools-distrib</li>
</ul>
</li>
<li><p>-z #以gzip方式归档压缩 </p>
<p>eg：</p>
<ul>
<li>tar -zcvf vmware-tools.tar.gz vmware-tools-distrib</li>
</ul>
</li>
<li><p>-J #以xz方式进行归档压缩</p>
<p> eg：</p>
<ul>
<li>tar -Jcvf vmware-tools.tar.xz vmware-tools-distrib；</li>
<li>tar -Jcvf /home/XD/vmware-tools.tar.xz vmware-tools-distrib</li>
</ul>
</li>
<li><p>-v #解档解压操作 </p>
<ul>
<li>tar -xf vmware-tools.tar.xz</li>
</ul>
</li>
<li><p>-C #指定解压路径</p>
</li>
</ul>
<h5 id="find命令"><a href="#find命令" class="headerlink" title="find命令"></a>find命令</h5><h6 id="基本用法"><a href="#基本用法" class="headerlink" title="基本用法"></a>基本用法</h6><p>find 路径 选项</p>
<ul>
<li><p>-type #根据文件类型 find /var/log -type f -name “*.log” ；</p>
<p>find /var/log -type d</p>
</li>
<li><p><em>-name #根据文件名 find /var/log -type f -name “</em>.log”</p>
</li>
<li><p>-perm #根据文件权限 find /var/log -perm 600 -type f -name “*.log”</p>
</li>
</ul>
<p>-user #根据文件所属主 find /var/log -user XD</p>
<h6 id="高级用法"><a href="#高级用法" class="headerlink" title="高级用法"></a>高级用法</h6><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">find &#x2F;var&#x2F;log -type f -name &quot;*.log&quot; -exec wc -l &#123;&#125; \;</span><br><span class="line">; #可以执行多条命令</span><br><span class="line">\ #转义符，转义;使得这条命令结束</span><br><span class="line">&#123;&#125;#把find命令匹配到的每一次结果传递给&#123;&#125;</span><br><span class="line">-exec #执行</span><br><span class="line">eg：</span><br><span class="line">find &#x2F;var&#x2F;log -type f -name &quot;*.log&quot; -exec cp -a &#123;&#125; &#x2F;home&#x2F;test \;</span><br><span class="line">-mtime #根据文件的变更时间来查找；-n表示更改时间距离现在n天以内；+n表示更改时间距离现在n天以前</span><br><span class="line">eg：</span><br><span class="line">find &#x2F;var&#x2F;log -mtime -2 -name &quot;*.log&quot; -exec ls -lrt &#123;&#125; \;</span><br><span class="line">find &#x2F;var&#x2F;log -mtime +2 -name &quot;*.log&quot; -exec ls -lrt &#123;&#125; \;</span><br></pre></td></tr></table></figure>

<h6 id="CentOS7的防火墙以及selinux"><a href="#CentOS7的防火墙以及selinux" class="headerlink" title="CentOS7的防火墙以及selinux"></a>CentOS7的防火墙以及selinux</h6><ul>
<li>查看firewalld服务状态<ul>
<li>systecmctl status firewalld</li>
</ul>
</li>
<li>开启、重启、关闭firewalld服务<ul>
<li>开启：systemctl start firewalld.service</li>
<li>关闭：systemctl stop firewalld.service</li>
<li>重启：systemctl restart firewalld.service</li>
</ul>
</li>
<li>查看firewall防火墙的状态<ul>
<li>firewall-cmd –state</li>
</ul>
</li>
<li>查看防火墙开放端口规则<ul>
<li>firewall-cmd –list-port</li>
</ul>
</li>
<li>开放80端口<ul>
<li>firewall-cmd –permanent –add-port=80/tcp （–permanent永久生效，没有此参数重启后就失效）</li>
</ul>
</li>
<li>加载生效开放的端口<ul>
<li>firewall-cmd –reload</li>
</ul>
</li>
<li>查询指定端口80是否开放<ul>
<li>firewall-cmd –query-port=80/tcp</li>
</ul>
</li>
<li>验证80端口是否开放：<ul>
<li>安装telnet命令：yum -y install xinetd telnet telnet-server （确认联网状态）</li>
<li>安装netstat与ifconfig命令：yum -y install net-tools（确认联网状态）</li>
</ul>
</li>
<li>关闭80端口<ul>
<li>firewall-cmd –remove-port=80/tcp</li>
</ul>
</li>
<li>SELinux 的三种工作模式；配置文件路径：/etc/selinux/config<ul>
<li>enforcing ：强制模式。违反selinux 规则的行为将会被阻止并记录到日志中去</li>
<li>permissive：宽容模式。违反selinux 规则的行为将会记录到日志中去</li>
<li>disabled：关闭模式。</li>
</ul>
</li>
</ul>
<h6 id="服务器之间telnet与scp命令的用法"><a href="#服务器之间telnet与scp命令的用法" class="headerlink" title="服务器之间telnet与scp命令的用法"></a>服务器之间telnet与scp命令的用法</h6><ul>
<li><p>telnet命令：主要用于测试到某台机器的某个端口是否畅通</p>
</li>
<li><p>telnet这个命令是依赖于 xinetd服务于telnet-server服务</p>
</li>
<li><p>telnet命令的安装：yum -y install xinetd telnet telnet-server （确认联网状态）</p>
</li>
<li><p>telnet命令用法：</p>
<ul>
<li>telnet IP地址 端口</li>
<li>应用场景：测试某个端口是否畅通</li>
</ul>
</li>
<li><p>scp命令：用于服务器之间的文件或者文件目录拷贝</p>
<ul>
<li><p>用法1：从本机拷贝文件到别的机器 scp 本机文件的存放路径 root@服务器IP:服务器目标路径</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">scp &#x2F;root&#x2F;VMwareTools-10.2.0-7259539.tar.gz root@192.168.72.129:&#x2F;root&#x2F;</span><br></pre></td></tr></table></figure>
</li>
<li><p>用法2：从别的机器拷贝文件到本地目录 scp root@服务器IP:服务器目标路径 本机文件的存放路径</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">scp root@192.168.72.129:&#x2F;root&#x2F;VMwareTools-10.2.0-7259539.tar.gz &#x2F;root&#x2F;</span><br></pre></td></tr></table></figure>
</li>
<li><p>-r参数：递归的作用（可以拷贝目录）</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">scp -r vmware-tools-distrib root@192.168.72.129:&#x2F;root&#x2F;</span><br></pre></td></tr></table></figure>



</li>
</ul>
</li>
</ul>
<h6 id="进程管理命令之ps-ef与ps-aux"><a href="#进程管理命令之ps-ef与ps-aux" class="headerlink" title="进程管理命令之ps -ef与ps aux"></a>进程管理命令之ps -ef与ps aux</h6><ul>
<li><p>ps命令的参数作用</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@localhost ~]# ps -ef | more</span><br><span class="line">UID PID PPID C STIME TTY TIME CMD</span><br><span class="line">root 2 0 0 Jul30 ? 00:00:00 [kthreadd]</span><br><span class="line">root 3 2 0 Jul30 ? 00:00:06 [ksoftirqd&#x2F;0]</span><br><span class="line">root 5 2 0 Jul30 ? 00:00:00 [kworker&#x2F;0:0H]</span><br><span class="line">root 7 2 0 Jul30 ? 00:00:04 [migration&#x2F;0]</span><br><span class="line">root 8 2 0 Jul30 ? 00:00:00 [rcu_bh]</span><br><span class="line">root 9 2 0 Jul30 ? 00:00:00 [rcuob&#x2F;0]</span><br><span class="line">root 10 2 0 Jul30 ? 00:00:00 [rcuob&#x2F;1]</span><br><span class="line"></span><br><span class="line">#UID：用户ID</span><br><span class="line">#PID：进程ID</span><br><span class="line">#PPID：父进程号</span><br><span class="line">#C：CPU的占用率</span><br><span class="line">#STIME：进程的启动时间</span><br><span class="line">#TTY：TTY终端</span><br><span class="line">#TIME：进程执行起到现在总的CPU占用时间</span><br><span class="line">#CMD：启动这个进程的命令</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@localhost ~]# ps aux | more</span><br><span class="line">USER PID %CPU %MEM VSZ RSS TTY STAT START TIME COMMAND</span><br><span class="line">root 2 0.0 0.0 0 0 ? S Jul30 0:00 [kthreadd]</span><br><span class="line">root 3 0.0 0.0 0 0 ? S Jul30 0:06 [ksoftirqd&#x2F;0]</span><br><span class="line">root 5 0.0 0.0 0 0 ? S&lt; Jul30 0:00 [kworker&#x2F;0:0H]</span><br><span class="line">root 7 0.0 0.0 0 0 ? S Jul30 0:04 [migration&#x2F;0]</span><br><span class="line">root 8 0.0 0.0 0 0 ? S Jul30 0:00 [rcu_bh]</span><br><span class="line">root 9 0.0 0.0 0 0 ? S Jul30 0:00 [rcuob&#x2F;0]</span><br><span class="line">root 10 0.0 0.0 0 0 ? S Jul30 0:00 [rcuob&#x2F;1]</span><br><span class="line">root 11 0.0 0.0 0 0 ? S Jul30 0:00 [rcuob&#x2F;2]</span><br><span class="line"></span><br><span class="line">#USER：哪个用户启动了这个命令</span><br><span class="line">#PID：进程的ID</span><br><span class="line">#%CPU：CPU的占用率</span><br><span class="line">#%MEM：内存的使用率</span><br><span class="line">#VSZ：如果一个程序完全驻留在内存中一共需要使用多少内存空间</span><br><span class="line">#RSS：进程当前占用了多少内存</span><br><span class="line">#TTY：tty终端</span><br><span class="line">#STAT：表示当前进程的状态（S#处于休眠的状态；D#不可中断的状态 ；Z#僵尸进程 ；X#死掉的进程）</span><br><span class="line">#START：启动这个命令的时间点</span><br><span class="line">#TIME：进程执行起到现在总的CPU占用时间</span><br><span class="line">#COMMAND：启动这个进程的命令</span><br></pre></td></tr></table></figure>

<p>一般执行ps -ef 或者ps aux 命令是查看我们的进程是否启动成功，或者找出进程号，对进程的kill强制关闭</p>
</li>
</ul>
<h6 id="处理海量数据之cut命令"><a href="#处理海量数据之cut命令" class="headerlink" title="处理海量数据之cut命令"></a>处理海量数据之cut命令</h6><p>cut应用场景：通常对数据进行列的提取<br>语法：cut [选项]…[file]</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">- 选项：</span><br><span class="line">-d #指定分割符</span><br><span class="line">-f #指定截取区域</span><br><span class="line">-c #以字符为单位进行分割</span><br><span class="line">注意：不加-d选项，默认为制表符，不是空格</span><br><span class="line">eg:</span><br><span class="line">以&#39;:&#39;为分隔符，截取出&#x2F;etc&#x2F;passwd的第一列跟第三列</span><br><span class="line">cut -d &#39;:&#39; -f 1,3 &#x2F;etc&#x2F;passwd</span><br><span class="line">eg:</span><br><span class="line">以&#39;:&#39;为分隔符，截取出&#x2F;etc&#x2F;passwd的第一列到第三列</span><br><span class="line">cut -d &#39;:&#39; -f 1-3 &#x2F;etc&#x2F;passwd</span><br><span class="line">eg:</span><br><span class="line">以&#39;:&#39;为分隔符，截取出&#x2F;etc&#x2F;passwd的第二列到最后一列</span><br><span class="line">cut -d &#39;:&#39; -f 2- &#x2F;etc&#x2F;passwd</span><br><span class="line">eg:</span><br><span class="line">截取&#x2F;etc&#x2F;passwd文件从第二个字符到第九个字符</span><br><span class="line">cut -c 2-9 &#x2F;etc&#x2F;passwd</span><br><span class="line">eg:</span><br><span class="line">比如领导想叫你截取linux上面所有可登陆普通用户</span><br><span class="line">cat &#x2F;etc&#x2F;passwd | grep &#39;&#x2F;bin&#x2F;bash&#39; | cut -d &#39;:&#39; -f 1 | grep -v root</span><br></pre></td></tr></table></figure>

<h6 id="处理海量数据之awk命令"><a href="#处理海量数据之awk命令" class="headerlink" title="处理海量数据之awk命令"></a>处理海量数据之awk命令</h6><ul>
<li><p>awk的简介：一个非常强大的数据处理命令，支持条件判断，数组，循环等功能，与grep，sed被称为linux三剑客</p>
</li>
<li><p>awk的应用场景：通常对数据进行列的提取</p>
<ul>
<li>语法：<ul>
<li>awk ‘条件1 {执行动作} 条件2 {执行动作} …’ 文件名</li>
<li>或awk [选项] ‘条件1 {执行动作} 条件2 {执行动作} …’ 文件名</li>
</ul>
</li>
</ul>
</li>
<li><p>特殊要点与举例说明:</p>
<ul>
<li><p>printf #格式化输出，不会自动换行。</p>
</li>
<li><p>print #打印出内容，默认会自动换行</p>
</li>
<li><p>%s #代表字符串</p>
</li>
<li><p>\t #制表符</p>
</li>
<li><p>\n #换行符</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">eg：printf &#39;%s\t%s\t%s\t%s\t%s\t%s\n&#39; 1 2 3 4 5 6</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>awk的一些特殊要点与举例说明</p>
<ul>
<li><p>NR #行号</p>
</li>
<li><p>$1 #代表第一列</p>
</li>
<li><p>$2 #代表第二列</p>
</li>
<li><p>$NF#代表最后一列</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">df -h | awk &#39;NR&#x3D;&#x3D;4 &#123;print $1&#125;&#39;</span><br><span class="line">df -h | awk &#39;(NR&gt;&#x3D;2 &amp;&amp; NR &lt;&#x3D;5) &#123;print $1&#125;&#39;</span><br><span class="line">df -h | awk &#39;&#123;print $NF&#125;&#39;</span><br></pre></td></tr></table></figure>
</li>
<li><p>-F #指定分割符</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">awk -F&quot;:&quot; &#39;&#123;print $1&#125;&#39; &#x2F;etc&#x2F;passwd</span><br></pre></td></tr></table></figure>
</li>
<li><p>BEGIN #在读取所有行内容前就开始执行，一般用来初始化操作</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">eg：</span><br><span class="line">cat &#x2F;etc&#x2F;passwd | awk &#39;BEGIN &#123;FS&#x3D;&quot;:&quot;&#125; &#123;print $1&#125;&#39;</span><br><span class="line">df -h |grep -v &#39;Filesystem&#39; | awk &#39;&#123;printf $1&#125; &#123;printf &quot;文件系统使用率：&quot;&#125; &#123;print $5&#125;&#39;</span><br><span class="line">df -h |grep -v &#39;Filesystem&#39; | awk &#39;BEGIN &#123;printf &quot;文件系统使用情况：\n \n&quot;&#125; &#123;printf $1&#125;</span><br><span class="line">&#123;printf &quot;文 件系统使用率：&quot;&#125; &#123;print $5&#125;&#39;</span><br></pre></td></tr></table></figure>
</li>
<li><p>END #结束的时候 执行</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">df -h |grep -v &#39;Filesystem&#39; | awk &#39;BEGIN &#123;printf &quot;文件系统使用情况：\n \n&quot;&#125; &#123;printf $1&#125;</span><br><span class="line">&#123;printf &quot;文件系统使用率：&quot;&#125; &#123;print $5&#125; END &#123;printf &quot;一切正常 \n&quot;&#125;&#39;</span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ul>
<h6 id="处理海量数据之sed命令"><a href="#处理海量数据之sed命令" class="headerlink" title="处理海量数据之sed命令"></a>处理海量数据之sed命令</h6><ul>
<li><p>sed的应用场景：主要对数据进行处理（选取，新增，替换，删除，搜索）<br>sed语法：</p>
<ul>
<li>sed [选项] [动作] 文件名</li>
</ul>
</li>
<li><p>常见的选项与参数：</p>
<ul>
<li><p>-n #把匹配到的行输出打印到屏幕</p>
</li>
<li><p>p #以行为单位进行打印，通常与-n一起使用</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">df -h | sed -n &#39;2p&#39;</span><br></pre></td></tr></table></figure>
</li>
<li><p>d #删除</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">df -h | sed &#39;2d&#39;</span><br></pre></td></tr></table></figure>
</li>
<li><p>a #在行的下面插入新的内容</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">df -h | sed &#39;2a 1234567890&#39;</span><br></pre></td></tr></table></figure>
</li>
<li><p>i #在行的上面插入新的内容</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sed -n &#39;&#x2F;tmpfs&#x2F;p&#39; df.txt</span><br></pre></td></tr></table></figure>
</li>
<li><p>c #替换 </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">df -h | sed &#39;2i 1234567890&#39;</span><br></pre></td></tr></table></figure>
</li>
<li><p>指定字符串替换：s/要被取代的内容/新的字符串/g #指定内容进行替换</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">df -h | sed &#39;2c 1234567890&#39;</span><br></pre></td></tr></table></figure>
</li>
<li><p>-i #对源文件进行修改(高危操作，慎用，用之前需要备份源文件)</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">df -h | sed &#39;s&#x2F;centos-root&#x2F;Centos7&#x2F;g&#39;</span><br></pre></td></tr></table></figure>
</li>
<li><p>搜索：在文件中搜索内容</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sed -i &#39;s&#x2F;Centos7&#x2F;Centos8&#x2F;g&#39; df.txt</span><br></pre></td></tr></table></figure>
</li>
<li><p>-e #表示可以执行多条动作</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sed -e &#39;s&#x2F;Centos8&#x2F;Centos7&#x2F;g&#39; -e &#39;s&#x2F;tmpfs&#x2F;TMP&#x2F;g&#39; df.txt &gt;123.tz</span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ul>
<h4 id="linux服务器常用企业服务的安装"><a href="#linux服务器常用企业服务的安装" class="headerlink" title="linux服务器常用企业服务的安装"></a>linux服务器常用企业服务的安装</h4><h5 id="Linux下常用软件安装方式"><a href="#Linux下常用软件安装方式" class="headerlink" title="Linux下常用软件安装方式"></a>Linux下常用软件安装方式</h5><h6 id="rpm安装"><a href="#rpm安装" class="headerlink" title="rpm安装"></a>rpm安装</h6><ul>
<li><p>rpm安装优点：</p>
<ul>
<li>软件已经编译打包，所以传输和安装方便，让用户免除编译</li>
<li>在安装之前，会先检查系统的磁盘、操作系统版本等，避免错误安装</li>
</ul>
</li>
<li><p>rpm安装缺点：</p>
<ul>
<li>软件包安装的环境必须与打包时的环境一致或相当</li>
<li>必须安装了软件的依赖包</li>
</ul>
</li>
<li><p>RPM包的命名规则：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">which-2.20-7.el7.x86_64.rpm</span><br><span class="line">which #代表的是软件名称</span><br><span class="line">2.20 #代表的是软件版本号；</span><br><span class="line">7 #代表的是发布版本号，指的是这个rpm软件包是第几次编译生成的</span><br><span class="line">el7 #代表的是企业版的7操作系统</span><br><span class="line">X86 #代表的是CPU架构</span><br><span class="line">64 #代表的是系统的位数</span><br></pre></td></tr></table></figure>
</li>
<li><p>安装rpm软件包：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">-i #install 安装软件包</span><br><span class="line">-v #输出更多的详情信息</span><br><span class="line">-h #输出哈希标记（#）</span><br><span class="line">--nodeps #不验证软件的依赖</span><br><span class="line">rpm -ivh zsh-5.0.2-7.el7.x86_64.rpm</span><br><span class="line">rpm -ivh mariadb-server-5.5.35-3.el7.x86_64.rpm --nodeps</span><br></pre></td></tr></table></figure>
</li>
<li><p>rpm包下载地址</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">http:&#x2F;&#x2F;rpmfind.net&#x2F;</span><br><span class="line">http:&#x2F;&#x2F;rpm.pbone.net&#x2F;</span><br><span class="line">http:&#x2F;&#x2F;www.rpmseek.com&#x2F;index.html</span><br></pre></td></tr></table></figure>
</li>
<li><p>rpm 查询功能：rpm -q</p>
<ul>
<li>-a #查询所有已安装的软件包 rpm -qa zsh</li>
<li>-f #查询文件所属软件包 rpm -qf /usr/bin/zsh</li>
<li>-p #查询软件包</li>
<li>-i #显示软件包信息</li>
<li>-l #显示软件包中的文件列表</li>
<li>-d #显示被标注为文档的文件列表</li>
<li>-c #显示被标注为配置文件的文件列表</li>
</ul>
</li>
<li><p>rpm 包升级:</p>
<ul>
<li>-U #升级rpm软件服务<br>rpm -Uvh zsh-5.0.2-7.el7.x86_64.rpm</li>
</ul>
</li>
<li><p>rpm 包卸载:</p>
<ul>
<li>-e #卸载<br>rpm -e zsh</li>
</ul>
</li>
</ul>
<h6 id="yum安装"><a href="#yum安装" class="headerlink" title="yum安装"></a>yum安装</h6><p>​    yum安装：基于 C/S 架构，yum安装称之为傻瓜式安装<br>​    yum安装优点：方便快捷，不用考虑包依赖，自动下载软件包。<br>​    yum安装缺点：人为无法干预，无法设定想要的参数</p>
<ul>
<li><p>配置本地yum源：</p>
<ul>
<li><p>配置文件的路径：/etc/yum.repos.d/</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[Centos7-yum] #yum源名称，唯一的，用来区分不同的 yum 源</span><br><span class="line">name&#x3D;Centos7-source #对yum源描述信息</span><br><span class="line">baseurl&#x3D;file:&#x2F;&#x2F;&#x2F;mnt #yum源的路径（repodata目录所在的目录）</span><br><span class="line">enabled&#x3D;1 #表示启用 yum 源</span><br><span class="line">gpgcheck&#x3D;0 #为1表示使用公钥检验 rpm 的正确性</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>yum安装方式的使用：</p>
<ul>
<li>yum repolist #查看yum源列表</li>
<li>yum clean all #清空之前yum缓存</li>
<li>yum makecache #创建yum缓存，为后续安装更加快速</li>
<li>yum -y install #安装软件 yum -y install zsh</li>
<li>yum info zsh #查看zsh软件包信息（不管安装了没都会有信息）</li>
<li>yum info installed zsh #查看已经安装好的软件信息</li>
<li>yum -remove zsh #卸载软件</li>
<li>yum search gcc #搜索gcc软件</li>
<li>yum update #升级软件</li>
</ul>
</li>
</ul>
<h6 id="源码编译安装方式"><a href="#源码编译安装方式" class="headerlink" title="源码编译安装方式"></a>源码编译安装方式</h6><p>​    源码安装优点：编译安装过程，可以设定参数，指定安装目录，按照需求进行安装，指定安装的版本，灵活性比较大。<br>​    源码安装的缺点：需要对依赖包一个一个的进行安装，不敢随便升级，一升级可能会由于依赖包的是不能使用导致一系列连锁反应</p>
<ul>
<li>源码编译安装软件包4大步骤：</li>
</ul>
<ol>
<li><p>解压源码包</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">tar -xf 源码包</span><br></pre></td></tr></table></figure>
</li>
<li><p>配置</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">进入解压后的目录，用.&#x2F;configure命令来配置相关信息（比如指定安装目录 --</span><br><span class="line">prefix&#x3D;&#x2F;usr&#x2F;local&#x2F;nginx）和生成Makefile文件</span><br></pre></td></tr></table></figure>
</li>
<li><p>编译</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">make -j4</span><br></pre></td></tr></table></figure>
</li>
<li><p>安装</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">make install</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h5 id="JDK8安装"><a href="#JDK8安装" class="headerlink" title="JDK8安装"></a>JDK8安装</h5><ol>
<li><p>全局环境变量的配置文件：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">vi &#x2F;etc&#x2F;profile</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export JAVA_HOME&#x3D;&#x2F;usr&#x2F;local&#x2F;jdk1.8 #这个路径要改，其余不需要改</span><br><span class="line">export JRE_HOME&#x3D;$JAVA_HOME&#x2F;jre</span><br><span class="line">export CLASSPATH&#x3D;$JAVA_HOME&#x2F;lib:$JRE_HOME&#x2F;lib:$CLASSPATH</span><br><span class="line">export PATH&#x3D;$JAVA_HOME&#x2F;bin:$JRE_HOME&#x2F;bin:$PATH</span><br></pre></td></tr></table></figure>
</li>
<li><p>加载环境变量：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">source &#x2F;etc&#x2F;profile</span><br></pre></td></tr></table></figure>
</li>
<li><p>检查是否安装成功：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">java -version</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h5 id="部署tomcat网站服务器"><a href="#部署tomcat网站服务器" class="headerlink" title="部署tomcat网站服务器"></a>部署tomcat网站服务器</h5><ol>
<li><p>下载：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">yum install -y wget</span><br><span class="line">wget http:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;apache&#x2F;tomcat&#x2F;tomcat-8&#x2F;v8.5.43&#x2F;bin&#x2F;apachetomcat-8.5.43.tar.gz</span><br></pre></td></tr></table></figure>
</li>
<li><p>解压：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">tar -xf apache-tomcat-8.5.43.tar.gz</span><br><span class="line">mv apache-tomcat-8.5.43 &#x2F;usr&#x2F;local&#x2F;tomcat8</span><br></pre></td></tr></table></figure>
</li>
<li><p>tomcat重要目录介绍</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@localhost tomcat8]# ls -lrt &#x2F;usr&#x2F;local&#x2F;tomcat8</span><br><span class="line">total 132</span><br><span class="line">drwxr-x---. 7 root root 76 Jul 5 04:53 webapps</span><br><span class="line">-rw-r-----. 1 root root 16262 Jul 5 04:56 RUNNING.txt</span><br><span class="line">-rw-r-----. 1 root root 7139 Jul 5 04:56 RELEASE-NOTES</span><br><span class="line">-rw-r-----. 1 root root 3255 Jul 5 04:56 README.md</span><br><span class="line">-rw-r-----. 1 root root 1726 Jul 5 04:56 NOTICE</span><br><span class="line">-rw-r-----. 1 root root 57011 Jul 5 04:56 LICENSE</span><br><span class="line">-rw-r-----. 1 root root 5407 Jul 5 04:56 CONTRIBUTING.md</span><br><span class="line">-rw-r-----. 1 root root 19534 Jul 5 04:56 BUILDING.txt</span><br><span class="line">drwxr-x---. 2 root root 4096 Aug 1 23:33 lib</span><br><span class="line">drwxr-x---. 2 root root 29 Aug 1 23:33 temp</span><br><span class="line">drwxr-x---. 2 root root 4096 Aug 1 23:33 bin</span><br><span class="line">drwx------. 3 root root 4096 Aug 1 23:43 conf</span><br><span class="line">drwxr-x---. 2 root root 4096 Aug 1 23:43 logs</span><br><span class="line">drwxr-x---. 3 root root 21 Aug 1 23:43 work</span><br><span class="line">bin：存放可执行命令,比如开启和关闭;</span><br><span class="line">conf：配置文件；</span><br><span class="line">Context.xml：Tomcat公用的环境配置，tomcat 服务器会定时去扫描这个文件</span><br><span class="line">web.xml：Web应用程序描述文件，都是关于是Web应用程序的配置文件</span><br><span class="line">server.xml：可以设置tomcat的端口号，添加虚拟机这些的，是对服务器的设置</span><br><span class="line">tomcat-users.xml：用户配置文件</span><br><span class="line">webapps：发布web应用；</span><br><span class="line">lib：库文件；</span><br></pre></td></tr></table></figure>
</li>
<li><p>关闭防火墙</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">systemctl stop firewalld.service</span><br></pre></td></tr></table></figure>
</li>
<li><p>启动tomcat</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sh startup.sh</span><br></pre></td></tr></table></figure>
</li>
<li><p>测试能否访问测试页面</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">IP地址:8080</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h5 id="源码部署apache网站服务器-TODO"><a href="#源码部署apache网站服务器-TODO" class="headerlink" title="源码部署apache网站服务器//TODO"></a>源码部署apache网站服务器//TODO</h5><p>​    我已经嗝屁了……..</p>
<h5 id="源码部署nginx网站服务器"><a href="#源码部署nginx网站服务器" class="headerlink" title="源码部署nginx网站服务器"></a>源码部署nginx网站服务器</h5><ol>
<li><p>安装gcc编译环境：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">yum install -y gcc-c++</span><br></pre></td></tr></table></figure>
</li>
<li><p>安装zlib-devel库：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">yum install -y zlib-devel</span><br></pre></td></tr></table></figure>
</li>
<li><p>安装OpenSSL密码库：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">yum install -y openssl openssl-devel</span><br></pre></td></tr></table></figure>
</li>
<li><p>安装pcre正则表达式库：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">下载地址：https:&#x2F;&#x2F;ftp.pcre.org&#x2F;pub&#x2F;pcre&#x2F;</span><br><span class="line">tar -xf pcre-8.43.tar.gz</span><br><span class="line">cd pcre-8.43</span><br><span class="line">mkdir -p &#x2F;usr&#x2F;local&#x2F;pcre</span><br><span class="line">.&#x2F;configure --prefix&#x3D;&#x2F;usr&#x2F;local&#x2F;pcre</span><br><span class="line">make &amp;&amp; make install</span><br></pre></td></tr></table></figure>
</li>
<li><p>下载编译安装nginx：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">nginx下载官网：http:&#x2F;&#x2F;nginx.org&#x2F;en&#x2F;download.html</span><br><span class="line">wget http:&#x2F;&#x2F;nginx.org&#x2F;download&#x2F;nginx-1.16.0.tar.gz</span><br><span class="line">mkdir -p &#x2F;usr&#x2F;local&#x2F;nginx</span><br><span class="line">tar -xf nginx-1.16.0.tar.gz</span><br><span class="line">cd nginx-1.16.0</span><br><span class="line">.&#x2F;configure --prefix&#x3D;&#x2F;usr&#x2F;local&#x2F;nginx --with-http_ssl_module --withhttp_</span><br><span class="line">stub_status_module --with-pcre</span><br><span class="line">make &amp;&amp; make install</span><br></pre></td></tr></table></figure>
</li>
<li><p>启停nginx服务：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">启动：</span><br><span class="line">&#x2F;usr&#x2F;local&#x2F;nginx&#x2F;sbin&#x2F;nginx -c &#x2F;usr&#x2F;local&#x2F;nginx&#x2F;conf&#x2F;nginx.conf</span><br><span class="line">测试：</span><br><span class="line">&#x2F;usr&#x2F;local&#x2F;nginx&#x2F;sbin&#x2F;nginx -t</span><br><span class="line">关闭：</span><br><span class="line">&#x2F;usr&#x2F;local&#x2F;nginx&#x2F;sbin&#x2F;nginx -s stop</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h5 id="源码安装mysql5-7"><a href="#源码安装mysql5-7" class="headerlink" title="源码安装mysql5.7"></a>源码安装mysql5.7</h5><ol>
<li><p>关闭selinux，关闭防火墙：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">systemctl stop firewalld.service</span><br><span class="line">vi &#x2F;etc&#x2F;selinux&#x2F;config</span><br><span class="line">SELINUX&#x3D;disabled</span><br></pre></td></tr></table></figure>
</li>
<li><p>安装cmake工具：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">yum -y install cmake</span><br></pre></td></tr></table></figure>
</li>
<li><p>下载boost路径（mysql5.7.17的必需依赖组件）：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">tar -xf boost_1_59_0.tar.gz</span><br></pre></td></tr></table></figure>
</li>
<li><p>yum安装其它依赖组件：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">yum -y install gcc gcc-c++ bzip2 bzip2-devel bzip2-libs python-devel ncurses</span><br><span class="line">ncurses-devel openssl openssl-devel</span><br></pre></td></tr></table></figure>
</li>
<li><p>创建路径：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mkdir -p &#x2F;usr&#x2F;local&#x2F;mysql</span><br><span class="line">mkdir -p &#x2F;data&#x2F;mydata</span><br></pre></td></tr></table></figure>
</li>
<li><p>创建mysql用户：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">useradd -M -s &#x2F;sbin&#x2F;nologin mysql</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用cmake工具对mysql5.7.17进行环境收集检验与配置相关模块：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">解压mysql源码包，并进入解压后的路径</span><br><span class="line">tar -xf mysql-5.7.17.tar.gz</span><br><span class="line">cd mysql-5.7.17</span><br><span class="line">cmake . -DCMAKE_INSTALL_PREFIX&#x3D;&#x2F;usr&#x2F;local&#x2F;mysql \-DMYSQL_DATADIR&#x3D;&#x2F;data&#x2F;mydata \-</span><br><span class="line">DSYSCONFDIR&#x3D;&#x2F;etc \-DWITH_INNOBASE_STORAGE_ENGINE&#x3D;1 \-DWITH_ARCHIVE_STORAGE_ENGINE&#x3D;1 \-</span><br><span class="line">DWITH_BLACKHOLE_STORAGE_ENGINE&#x3D;1 \-DWITH_READLINE&#x3D;1 \-DMYSQL_UNIX_ADDR&#x3D;&#x2F;tmp&#x2F;mysql.sock</span><br><span class="line">\-DWITH_SSL&#x3D;system \-DWITH_ZLIB&#x3D;system \-DDEFAULT_CHARSET&#x3D;utf8 \-</span><br><span class="line">DDEFAULT_COLLATION&#x3D;utf8_general_ci \-DDOWNLOAD_BOOST&#x3D;1 \-DWITH_BOOST&#x3D;..&#x2F;boost_1_59_0</span><br><span class="line">\-DENABLE_DOWNLOADS&#x3D;1</span><br><span class="line">参数详细信息解释：</span><br><span class="line">-DCMAKE_INSTALL_PREFIX&#x3D;&#x2F;usr&#x2F;local&#x2F;mysql \ #指定mysql数据库安装目录</span><br><span class="line">-DMYSQL_DATADIR&#x3D;&#x2F;data&#x2F;mydata \ #指定数据库文件路径</span><br><span class="line">-DSYSCONFDIR&#x3D;&#x2F;etc \ #指定配置文件目录</span><br><span class="line">-DWITH_INNOBASE_STORAGE_ENGINE&#x3D;1 \ #安装INNOBASE存储引擎</span><br><span class="line">-DWITH_ARCHIVE_STORAGE_ENGINE&#x3D;1 \ #安装ARCHIVE存储引擎</span><br><span class="line">-DWITH_BLACKHOLE_STORAGE_ENGINE&#x3D;1 \ #安装BLACKHOLE存储引擎</span><br><span class="line">-DWITH_READLINE&#x3D;1 \ #使用readline功能</span><br><span class="line">-DMYSQL_UNIX_ADDR&#x3D;&#x2F;tmp&#x2F;mysql.sock \ #连接文件位置</span><br><span class="line">-DWITH_SSL&#x3D;system \ #表示使用系统上的自带的SSL库</span><br><span class="line">-DWITH_ZLIB&#x3D;system \ #表示使用系统上的自带的ZLIB库</span><br><span class="line">-DDEFAULT_CHARSET&#x3D;utf8 \ #指定默认使用的字符集编码</span><br><span class="line">-DDEFAULT_COLLATION&#x3D;utf8_general_ci \ #指定默认使用的字符集校对规则</span><br><span class="line">-DDOWNLOAD_BOOST&#x3D;1 \</span><br><span class="line">-DWITH_BOOST&#x3D;..&#x2F;boost_1_59_0 \ #指定Boost库的位置，mysql5.7必须添加该参数</span><br><span class="line">-DENABLE_DOWNLOADS&#x3D;1 #支持下载可选文件</span><br></pre></td></tr></table></figure>
</li>
<li><p>编译并安装：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">make -j 4 &amp;&amp; make install</span><br></pre></td></tr></table></figure>
</li>
<li><p>初始化mysql：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;usr&#x2F;local&#x2F;mysql&#x2F;bin&#x2F;mysqld \--initialize \--user&#x3D;mysql \--basedir&#x3D;&#x2F;usr&#x2F;local&#x2F;mysql \-</span><br><span class="line">-datadir&#x3D;&#x2F;data&#x2F;mydata \--socket&#x3D;&#x2F;tmp&#x2F;mysql.sock</span><br></pre></td></tr></table></figure>
</li>
<li><p>对mysql的相关路径进行更改权限</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">chown -R mysql:mysql &#x2F;usr&#x2F;local&#x2F;mysql &#x2F;data&#x2F;mydata</span><br></pre></td></tr></table></figure>
</li>
<li><p>修改配置文件：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">vi &#x2F;etc&#x2F;my.cnf</span><br><span class="line">[mysqld]</span><br><span class="line">datadir&#x3D;&#x2F;data&#x2F;mydata</span><br><span class="line">socket&#x3D;&#x2F;tmp&#x2F;mysql.sock</span><br><span class="line">symbolic-links&#x3D;0</span><br><span class="line">[mysqld_safe]</span><br><span class="line">log-error&#x3D;&#x2F;usr&#x2F;local&#x2F;mysql&#x2F;log&#x2F;mysql.errlog</span><br><span class="line">pid-file&#x3D;&#x2F;data&#x2F;mydata&#x2F;$hostname.pid</span><br></pre></td></tr></table></figure>
</li>
<li><p>启停mysql：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@localhost support-files]# .&#x2F;mysql.server start</span><br><span class="line">Starting MySQL.2019-08-03T14:19:37.028727Z mysqld_safe error: log-error set to</span><br><span class="line">&#39;&#x2F;usr&#x2F;local&#x2F;mysql&#x2F;log&#x2F;mysql.errlog&#39;, however file don&#39;t exists. Create writable for</span><br><span class="line">user &#39;mysql&#39;.</span><br><span class="line">ERROR! The server quit without updating PID file</span><br><span class="line">(&#x2F;data&#x2F;mydata&#x2F;localhost.localdomain.pid).</span><br><span class="line">解决：</span><br><span class="line">touch &#x2F;usr&#x2F;local&#x2F;mysql&#x2F;log&#x2F;mysql.errlog</span><br><span class="line">chown -R mysql:mysql &#x2F;usr&#x2F;local&#x2F;mysql&#x2F;log&#x2F;mysql.errlog</span><br><span class="line">启动：</span><br><span class="line">&#x2F;usr&#x2F;local&#x2F;mysql&#x2F;support-files&#x2F;mysql.server start</span><br><span class="line">关闭：</span><br><span class="line">&#x2F;usr&#x2F;local&#x2F;mysql&#x2F;support-files&#x2F;mysql.server stop</span><br></pre></td></tr></table></figure>
</li>
<li><p>登录mysql：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;usr&#x2F;local&#x2F;mysql&#x2F;bin&#x2F;mysql -uroot -p</span><br></pre></td></tr></table></figure>
</li>
<li><p>修改mysql密码：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">set password for &#39;root&#39;@&#39;localhost&#39;&#x3D;password(&#39;密码&#39;);</span><br><span class="line">mysql&gt; flush privileges;</span><br><span class="line">ERROR 1146 (42S02): Table &#39;mysql.servers&#39; doesn&#39;t exist</span><br><span class="line">use mysql;</span><br><span class="line">drop table if exists mysql.servers;</span><br><span class="line">CREATE TABLE &#96;servers&#96; (</span><br><span class="line">&#96;Server_name&#96; char(64) NOT NULL,</span><br><span class="line">&#96;Host&#96; char(64) NOT NULL,&#96;Db&#96; char(64) NOT NULL,</span><br><span class="line">&#96;Username&#96; char(64) NOT NULL,</span><br><span class="line">&#96;Password&#96; char(64) NOT NULL,</span><br><span class="line">&#96;Port&#96; int(4) DEFAULT NULL,</span><br><span class="line">&#96;Socket&#96; char(64) DEFAULT NULL,</span><br><span class="line">&#96;Wrapper&#96; char(64) NOT NULL,</span><br><span class="line">&#96;Owner&#96; char(64) NOT NULL,</span><br><span class="line">PRIMARY KEY (&#96;Server_name&#96;)</span><br><span class="line">) ENGINE&#x3D;MyISAM DEFAULT CHARSET&#x3D;utf8 COMMENT&#x3D;&#39;MySQL Foreign Servers table&#39;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>添加MySQL服务并设置mysql开机启动：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cp -a &#x2F;usr&#x2F;local&#x2F;mysql&#x2F;support-files&#x2F;mysql.server &#x2F;etc&#x2F;rc.d&#x2F;init.d&#x2F;mysql</span><br><span class="line">chkconfig --add mysql</span><br><span class="line">chkconfig --list mysql</span><br><span class="line">mysql 0:off 1:off 2:on 3:on 4:on 5:on 6:off</span><br><span class="line">chkconfig命令主要用来更新（启动或停止）和查询系统服务的运行级信息</span><br><span class="line">等级0表示：表示关机</span><br><span class="line">等级1表示：单用户模式</span><br><span class="line">等级2表示：无网络连接的多用户命令行模式</span><br><span class="line">等级3表示：有网络连接的多用户命令行模式</span><br><span class="line">等级4表示：不可用</span><br><span class="line">等级5表示：带图形界面的多用户模式</span><br><span class="line">等级6表示：重新启动</span><br><span class="line">使用mysql服务的方式操作启停mysql服务：</span><br><span class="line">service mysql start #启动mysql服务器</span><br><span class="line">service mysql stop #关闭mysql服务器</span><br><span class="line">service mysql restart #重启mysql服务器</span><br></pre></td></tr></table></figure>
</li>
<li><p>设置mysql环境变量</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ln -s &#x2F;usr&#x2F;local&#x2F;mysql&#x2F;bin&#x2F;* &#x2F;usr&#x2F;sbin&#x2F;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h5 id="源码部署php服务与nginx-的整合"><a href="#源码部署php服务与nginx-的整合" class="headerlink" title="源码部署php服务与nginx 的整合"></a>源码部署php服务与nginx 的整合</h5><ol>
<li><p>源码编译安装：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">安装依赖组件：</span><br><span class="line">yum -y install gcc gcc-c++ bzip2 bzip2-devel bzip2-libs python-devel ncurses ncursesdevel</span><br><span class="line">openssl openssl-devel</span><br><span class="line">yum install -y libxml2-devel</span><br><span class="line">解压php并进入解压后php包：tar -xf php-5.5.35.tar.gz &amp;&amp; cd php-5.5.35</span><br><span class="line">.&#x2F;configure --prefix&#x3D;&#x2F;usr&#x2F;local&#x2F;php&#x2F; --enable-fpm --with-configfile&#x3D;&#x2F;</span><br><span class="line">usr&#x2F;local&#x2F;php&#x2F;etc</span><br><span class="line">编译安装：</span><br><span class="line">make -j 4 &amp;&amp; make install</span><br></pre></td></tr></table></figure>
</li>
<li><p>修改配置文件：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cp -a php.ini-production &#x2F;usr&#x2F;local&#x2F;php&#x2F;etc&#x2F;php.ini</span><br><span class="line">cp -a &#x2F;usr&#x2F;local&#x2F;php&#x2F;etc&#x2F;php-fpm.conf.default &#x2F;usr&#x2F;local&#x2F;php&#x2F;etc&#x2F;php-fpm.conf</span><br></pre></td></tr></table></figure>
</li>
<li><p>启停php服务器：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;usr&#x2F;local&#x2F;php&#x2F;sbin&#x2F;php-fpm #启动</span><br><span class="line">php的默认端口是：9000</span><br><span class="line">cd &#x2F;usr&#x2F;local&#x2F;php&#x2F;sbin &amp;&amp; pkill php-fpm</span><br></pre></td></tr></table></figure>
</li>
<li><p>启停php服务器</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;usr&#x2F;local&#x2F;php&#x2F;sbin&#x2F;php-fpm #启动</span><br><span class="line">php的默认端口是：9000</span><br><span class="line">cd &#x2F;usr&#x2F;local&#x2F;php&#x2F;sbin &amp;&amp; pkill php-fpm #关闭</span><br></pre></td></tr></table></figure>
</li>
<li><p>整合nginx测试php</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">修改nginx配置文件并添加以下内容：vi &#x2F;usr&#x2F;local&#x2F;nginx&#x2F;conf&#x2F;nginx.conf</span><br><span class="line">location ~ \.php$ &#123;</span><br><span class="line">root &#x2F;usr&#x2F;local&#x2F;nginx&#x2F;html;</span><br><span class="line">fastcgi_pass 127.0.0.1:9000;</span><br><span class="line">fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;</span><br><span class="line">include fastcgi_params;</span><br><span class="line">&#125;</span><br><span class="line">修改后对nginx进行重启：&#x2F;usr&#x2F;local&#x2F;nginx&#x2F;sbin&#x2F;nginx -s reload</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">FastCGI是 一个 在HTTP服务器和动态脚本语言间通信的接口</span><br><span class="line">fastcgi_pass 127.0.0.1:9000; #设置监听端口</span><br><span class="line">fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;#设置脚本文件请求的路径</span><br><span class="line">include fastcgi_params; #引入fastcgi的配置文件</span><br></pre></td></tr></table></figure>
</li>
<li><p>在nginx的网站发布路径下创建index.php文件</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">vi &#x2F;usr&#x2F;local&#x2F;nginx&#x2F;html&#x2F;index.php</span><br><span class="line">&lt;?php</span><br><span class="line">phpinfo();</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h4 id="shell脚本编程"><a href="#shell脚本编程" class="headerlink" title="shell脚本编程"></a>shell脚本编程</h4><ul>
<li>shell的优点：<ol>
<li>易用 #直接在linux系统上使用，不需要编译</li>
<li>高效 #程序开发的效率非常高，依赖于功能强大的命令可以迅速地完成开发任务</li>
<li>简单 #语法和结构比较简单，易于掌握</li>
</ol>
</li>
<li>shell应用场景：<ol>
<li>监控linux系统的健康度</li>
<li>数据的处理 #日志的切割、分析、统计等</li>
<li>与数据库交互 #对数据库进行增，删，改，查等操作</li>
<li>监控进程，自动化启停服务</li>
<li>完成一些重复性的工作</li>
</ol>
</li>
</ul>
<h5 id="企业实战之shell脚本与crontab定时器的运用"><a href="#企业实战之shell脚本与crontab定时器的运用" class="headerlink" title="企业实战之shell脚本与crontab定时器的运用"></a>企业实战之shell脚本与crontab定时器的运用</h5><ul>
<li><p>crond服务：<br>以守护进程方式在无需人工干预的情况下来处理着一系列作业和指令的服务</p>
</li>
<li><p>crond服务的启停命令：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">启动</span><br><span class="line">systemctl start crond.service</span><br><span class="line">查看状态：</span><br><span class="line">systemctl status crond.service</span><br><span class="line">停止</span><br><span class="line">systemctl stop crond.service</span><br><span class="line">重新启动</span><br><span class="line">systemctl restart crond.service</span><br></pre></td></tr></table></figure>
</li>
<li><p>crontab定时器的使用</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">crontab -l #列出crontab有哪些任务</span><br><span class="line">crontab -e #编辑crontab任务</span><br><span class="line">crontab -r #删除crontab里的所有任务</span><br></pre></td></tr></table></figure>
</li>
<li><p>crontab的例子<br>略…</p>
</li>
<li><p>实战nginx服务器日志定时切割</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#!&#x2F;bin&#x2F;bash</span><br><span class="line">#Auto cut nginx log script.</span><br><span class="line">#nginx日志路径</span><br><span class="line">logs_path&#x3D;&#x2F;usr&#x2F;local&#x2F;nginx&#x2F;logs</span><br><span class="line">YesterDay&#x3D;$(date -d &#39;yesterday&#39; +%Y-%m-%d)</span><br><span class="line">#移动日志并以日期改名</span><br><span class="line">mv $&#123;logs_path&#125;&#x2F;access.log $&#123;logs_path&#125;&#x2F;access_$&#123;YesterDay&#125;.log</span><br><span class="line">mv $&#123;logs_path&#125;&#x2F;error.log $&#123;logs_path&#125;&#x2F;error_$&#123;YesterDay&#125;.log</span><br><span class="line">#向nginx主进程发送信号，重新生成日志文件</span><br><span class="line">kill -USR1 $(cat &#x2F;usr&#x2F;local&#x2F;nginx&#x2F;logs&#x2F;nginx.pid)</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="企业实战篇"><a href="#企业实战篇" class="headerlink" title="企业实战篇"></a>企业实战篇</h4><h5 id="静态ip地址配置"><a href="#静态ip地址配置" class="headerlink" title="静态ip地址配置"></a>静态ip地址配置</h5><ul>
<li><p>网卡的路径：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;etc&#x2F;sysconfig&#x2F;network-scripts&#x2F;ifcfg-enoxxxxxxxx</span><br></pre></td></tr></table></figure>
</li>
<li><p>alias命令实现别名：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">临时设置别名：</span><br><span class="line">alias vinet&#x3D;&#39;vi &#x2F;etc&#x2F;sysconfig&#x2F;network-scripts&#x2F;ifcfg-eno16777728&#39;</span><br><span class="line">查看别名：</span><br><span class="line">alias</span><br><span class="line">取消临时别名：</span><br><span class="line">alias vinet</span><br><span class="line">永久设置别名：vi &#x2F;root&#x2F;.bashrc</span><br><span class="line">alias vinet&#x3D;&#39;vi &#x2F;etc&#x2F;sysconfig&#x2F;network-scripts&#x2F;ifcfg-eno16777728&#39;</span><br><span class="line">加载使立即生效：</span><br><span class="line">source &#x2F;root&#x2F;.bashrc</span><br></pre></td></tr></table></figure>
</li>
<li><p>修改ip地址为静态</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">BOOTPROTO&#x3D;&quot;static&quot;</span><br><span class="line">IPADDR&#x3D;xxx.xxx.xxx.xxx</span><br><span class="line">GATEWAY&#x3D;xxx.xxx.xxx.xxx</span><br><span class="line">NETMASK&#x3D;255.255.255.0</span><br><span class="line">ONBOOT&#x3D;&quot;yes&quot;</span><br><span class="line">修改以上信息，以下是我网卡信息</span><br><span class="line">HWADDR&#x3D;&quot;00:0c:29:dc:47:58&quot;</span><br><span class="line">TYPE&#x3D;&quot;Ethernet&quot;</span><br><span class="line">BOOTPROTO&#x3D;&quot;static&quot;</span><br><span class="line">DEFROUTE&#x3D;&quot;yes&quot;</span><br><span class="line">PEERDNS&#x3D;&quot;yes&quot;</span><br><span class="line">PEERROUTES&#x3D;&quot;yes&quot;</span><br><span class="line">IPV4_FAILURE_FATAL&#x3D;&quot;no&quot;</span><br><span class="line">IPADDR&#x3D;192.168.10.100</span><br><span class="line">GATEWAY&#x3D;192.168.10.2</span><br><span class="line">NETMASK&#x3D;255.255.255.0</span><br><span class="line">IPV6INIT&#x3D;&quot;yes&quot;</span><br><span class="line">IPV6_AUTOCONF&#x3D;&quot;yes</span><br><span class="line">IPV6_DEFROUTE&#x3D;&quot;yes&quot;</span><br><span class="line">IPV6_PEERDNS&#x3D;&quot;yes&quot;</span><br><span class="line">IPV6_PEERROUTES&#x3D;&quot;yes&quot;</span><br><span class="line">IPV6_FAILURE_FATAL&#x3D;&quot;no&quot;</span><br><span class="line">NAME&#x3D;&quot;eno16777728&quot;</span><br><span class="line">UUID&#x3D;&quot;3199add9-379c-43a9-bab1-ae4e05c0f2cc&quot;</span><br><span class="line">ONBOOT&#x3D;&quot;yes&quot;</span><br></pre></td></tr></table></figure>
</li>
<li><p>重启网卡</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">systemctl restart network.service</span><br></pre></td></tr></table></figure>
</li>
<li><p>ping不通域名：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@localhost ~]# ping www.baidu.com</span><br><span class="line">ping: unknown host www.baidu.com</span><br><span class="line">解决：vi &#x2F;etc&#x2F;resolv.conf 加上以下域名服务器解析地址</span><br><span class="line">nameserver 114.114.114.114</span><br><span class="line">nameserver 8.8.8.8</span><br><span class="line">nameserver 1.1.1.1</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h5 id="实战修改linux系统主机名"><a href="#实战修改linux系统主机名" class="headerlink" title="实战修改linux系统主机名"></a>实战修改linux系统主机名</h5><ul>
<li><p>查看主机名命令：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hostname</span><br></pre></td></tr></table></figure>
</li>
<li><p>修改主机名的命令：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hostnamectl set-hostname NEW_NAME</span><br></pre></td></tr></table></figure>
</li>
<li><p>修改后记得重启使得生效：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">reboot</span><br></pre></td></tr></table></figure>
</li>
<li><p>修改/etc/hosts文件：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">vi &#x2F;etc&#x2F;hosts</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h5 id="实战ssh免密远程登录其它机器"><a href="#实战ssh免密远程登录其它机器" class="headerlink" title="实战ssh免密远程登录其它机器"></a>实战ssh免密远程登录其它机器</h5><ol>
<li><p>执行命令创建密钥：ssh-keygen -t rsa</p>
</li>
<li><p>拷贝文件到目标服务器并重命名为authorized_keys</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#eg:</span><br><span class="line">scp &#x2F;root&#x2F;.ssh&#x2F;id_rsa.pub root@xdapp2:&#x2F;root&#x2F;.ssh&#x2F;authorized_keys</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h5 id="实战搭建nfs文件共享服务器-TODO"><a href="#实战搭建nfs文件共享服务器-TODO" class="headerlink" title="实战搭建nfs文件共享服务器//TODO"></a>实战搭建nfs文件共享服务器//TODO</h5><p>已经脑死亡了….</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">Zyaire</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://example.com/2020/11/05/Linux%E5%A4%8D%E4%B9%A0%E6%80%BB%E7%BB%93/">http://example.com/2020/11/05/Linux%E5%A4%8D%E4%B9%A0%E6%80%BB%E7%BB%93/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://example.com" target="_blank">如今听雨僧庐下</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2020/11/05/Jenkins%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90-Git-Gitlab-Sonar/"><img class="prev-cover" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Jenkins持续集成-Git-Gitlab-Sonar</div></div></a></div><div class="next-post pull-right"><a href="/2020/11/04/do-do-docker/"><img class="next-cover" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">do do docker</div></div></a></div></nav><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div class="vcomment" id="vcomment"></div></div></div></div></div><div class="aside_content" id="aside_content"><div class="card-widget card-info"><div class="card-content"><div class="card-info-avatar is-center"><img class="avatar-img" src="/null" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">Zyaire</div><div class="author-info__description">除了技术菜，其他都还好。</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">16</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length-num">11</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分类</div><div class="length-num">3</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div></div><div class="card-widget card-announcement"><div class="card-content"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="card-content"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E5%91%BD%E4%BB%A4"><span class="toc-number">1.</span> <span class="toc-text">基础命令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#linux%E6%A0%B8%E5%BF%83%E6%93%8D%E4%BD%9C"><span class="toc-number">2.</span> <span class="toc-text">linux核心操作</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#linux%E5%BF%85%E5%A4%87%E5%9F%BA%E7%A1%80%E5%91%BD%E4%BB%A4-%E4%B8%80"><span class="toc-number">2.1.</span> <span class="toc-text">linux必备基础命令(一)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#linux%E5%BF%85%E5%A4%87%E5%9F%BA%E7%A1%80%E5%91%BD%E4%BB%A4-%E4%BA%8C"><span class="toc-number">2.2.</span> <span class="toc-text">linux必备基础命令(二)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#linux%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E9%94%99%E8%AF%AF%E9%87%8D%E5%AE%9A%E5%90%91"><span class="toc-number">2.3.</span> <span class="toc-text">linux输入输出错误重定向</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E7%9B%AE%E5%BD%95"><span class="toc-number">3.</span> <span class="toc-text">常见目录</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%9B%E9%98%B6%E6%93%8D%E4%BD%9C"><span class="toc-number">4.</span> <span class="toc-text">进阶操作</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F%E6%9C%BA%E4%B8%8E%E5%A4%96%E9%83%A8%E7%89%A9%E7%90%86%E6%9C%BA%E6%97%B6%E9%97%B4%E5%90%8C%E6%AD%A5"><span class="toc-number">4.1.</span> <span class="toc-text">虚拟机与外部物理机时间同步</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#vi%E7%BC%96%E8%BE%91%E5%99%A8"><span class="toc-number">4.2.</span> <span class="toc-text">vi编辑器</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#inux%E7%9A%84%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86%E4%B8%8E%E7%BB%84%E7%AE%A1%E7%90%86"><span class="toc-number">4.3.</span> <span class="toc-text">inux的用户管理与组管理</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E5%B1%9E%E6%80%A7%E4%B8%8E%E6%9D%83%E9%99%90%E6%93%8D%E4%BD%9C"><span class="toc-number">4.4.</span> <span class="toc-text">文件属性与权限操作</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E5%BD%92%E6%A1%A3%E4%B8%8E%E8%A7%A3%E5%8E%8B%E7%BC%A9"><span class="toc-number">4.5.</span> <span class="toc-text">文件归档与解压缩</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%A7%A3%E5%8E%8B%E7%BC%A9%E5%91%BD%E4%BB%A4"><span class="toc-number">4.5.1.</span> <span class="toc-text">解压缩命令</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%BD%92%E6%A1%A3%E4%B8%8E%E5%8E%8B%E7%BC%A9%E5%91%BD%E4%BB%A4"><span class="toc-number">4.5.2.</span> <span class="toc-text">归档与压缩命令</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#find%E5%91%BD%E4%BB%A4"><span class="toc-number">4.6.</span> <span class="toc-text">find命令</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95"><span class="toc-number">4.6.1.</span> <span class="toc-text">基本用法</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E9%AB%98%E7%BA%A7%E7%94%A8%E6%B3%95"><span class="toc-number">4.6.2.</span> <span class="toc-text">高级用法</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#CentOS7%E7%9A%84%E9%98%B2%E7%81%AB%E5%A2%99%E4%BB%A5%E5%8F%8Aselinux"><span class="toc-number">4.6.3.</span> <span class="toc-text">CentOS7的防火墙以及selinux</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B9%8B%E9%97%B4telnet%E4%B8%8Escp%E5%91%BD%E4%BB%A4%E7%9A%84%E7%94%A8%E6%B3%95"><span class="toc-number">4.6.4.</span> <span class="toc-text">服务器之间telnet与scp命令的用法</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86%E5%91%BD%E4%BB%A4%E4%B9%8Bps-ef%E4%B8%8Eps-aux"><span class="toc-number">4.6.5.</span> <span class="toc-text">进程管理命令之ps -ef与ps aux</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%A4%84%E7%90%86%E6%B5%B7%E9%87%8F%E6%95%B0%E6%8D%AE%E4%B9%8Bcut%E5%91%BD%E4%BB%A4"><span class="toc-number">4.6.6.</span> <span class="toc-text">处理海量数据之cut命令</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%A4%84%E7%90%86%E6%B5%B7%E9%87%8F%E6%95%B0%E6%8D%AE%E4%B9%8Bawk%E5%91%BD%E4%BB%A4"><span class="toc-number">4.6.7.</span> <span class="toc-text">处理海量数据之awk命令</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%A4%84%E7%90%86%E6%B5%B7%E9%87%8F%E6%95%B0%E6%8D%AE%E4%B9%8Bsed%E5%91%BD%E4%BB%A4"><span class="toc-number">4.6.8.</span> <span class="toc-text">处理海量数据之sed命令</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#linux%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%B8%B8%E7%94%A8%E4%BC%81%E4%B8%9A%E6%9C%8D%E5%8A%A1%E7%9A%84%E5%AE%89%E8%A3%85"><span class="toc-number">5.</span> <span class="toc-text">linux服务器常用企业服务的安装</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#Linux%E4%B8%8B%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85%E6%96%B9%E5%BC%8F"><span class="toc-number">5.1.</span> <span class="toc-text">Linux下常用软件安装方式</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#rpm%E5%AE%89%E8%A3%85"><span class="toc-number">5.1.1.</span> <span class="toc-text">rpm安装</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#yum%E5%AE%89%E8%A3%85"><span class="toc-number">5.1.2.</span> <span class="toc-text">yum安装</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%BA%90%E7%A0%81%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85%E6%96%B9%E5%BC%8F"><span class="toc-number">5.1.3.</span> <span class="toc-text">源码编译安装方式</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#JDK8%E5%AE%89%E8%A3%85"><span class="toc-number">5.2.</span> <span class="toc-text">JDK8安装</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%83%A8%E7%BD%B2tomcat%E7%BD%91%E7%AB%99%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="toc-number">5.3.</span> <span class="toc-text">部署tomcat网站服务器</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%BA%90%E7%A0%81%E9%83%A8%E7%BD%B2apache%E7%BD%91%E7%AB%99%E6%9C%8D%E5%8A%A1%E5%99%A8-TODO"><span class="toc-number">5.4.</span> <span class="toc-text">源码部署apache网站服务器&#x2F;&#x2F;TODO</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%BA%90%E7%A0%81%E9%83%A8%E7%BD%B2nginx%E7%BD%91%E7%AB%99%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="toc-number">5.5.</span> <span class="toc-text">源码部署nginx网站服务器</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%BA%90%E7%A0%81%E5%AE%89%E8%A3%85mysql5-7"><span class="toc-number">5.6.</span> <span class="toc-text">源码安装mysql5.7</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%BA%90%E7%A0%81%E9%83%A8%E7%BD%B2php%E6%9C%8D%E5%8A%A1%E4%B8%8Enginx-%E7%9A%84%E6%95%B4%E5%90%88"><span class="toc-number">5.7.</span> <span class="toc-text">源码部署php服务与nginx 的整合</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#shell%E8%84%9A%E6%9C%AC%E7%BC%96%E7%A8%8B"><span class="toc-number">6.</span> <span class="toc-text">shell脚本编程</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BC%81%E4%B8%9A%E5%AE%9E%E6%88%98%E4%B9%8Bshell%E8%84%9A%E6%9C%AC%E4%B8%8Ecrontab%E5%AE%9A%E6%97%B6%E5%99%A8%E7%9A%84%E8%BF%90%E7%94%A8"><span class="toc-number">6.1.</span> <span class="toc-text">企业实战之shell脚本与crontab定时器的运用</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BC%81%E4%B8%9A%E5%AE%9E%E6%88%98%E7%AF%87"><span class="toc-number">7.</span> <span class="toc-text">企业实战篇</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%9D%99%E6%80%81ip%E5%9C%B0%E5%9D%80%E9%85%8D%E7%BD%AE"><span class="toc-number">7.1.</span> <span class="toc-text">静态ip地址配置</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%9E%E6%88%98%E4%BF%AE%E6%94%B9linux%E7%B3%BB%E7%BB%9F%E4%B8%BB%E6%9C%BA%E5%90%8D"><span class="toc-number">7.2.</span> <span class="toc-text">实战修改linux系统主机名</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%9E%E6%88%98ssh%E5%85%8D%E5%AF%86%E8%BF%9C%E7%A8%8B%E7%99%BB%E5%BD%95%E5%85%B6%E5%AE%83%E6%9C%BA%E5%99%A8"><span class="toc-number">7.3.</span> <span class="toc-text">实战ssh免密远程登录其它机器</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%9E%E6%88%98%E6%90%AD%E5%BB%BAnfs%E6%96%87%E4%BB%B6%E5%85%B1%E4%BA%AB%E6%9C%8D%E5%8A%A1%E5%99%A8-TODO"><span class="toc-number">7.4.</span> <span class="toc-text">实战搭建nfs文件共享服务器&#x2F;&#x2F;TODO</span></a></li></ol></li></ol></div></div></div><div class="card-widget card-recent-post"><div class="card-content"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2020/12/17/Tengine/" title="Tengine"><img src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Tengine"/></a><div class="content"><a class="title" href="/2020/12/17/Tengine/" title="Tengine">Tengine</a><time datetime="2020-12-17T08:06:23.000Z" title="发表于 2020-12-17 16:06:23">2020-12-17</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2020/12/16/jmeter%E6%8E%A5%E5%8F%A3%E5%8E%8B%E5%8A%9B%E6%B5%8B%E8%AF%95/" title="jmeter接口压力测试"><img src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="jmeter接口压力测试"/></a><div class="content"><a class="title" href="/2020/12/16/jmeter%E6%8E%A5%E5%8F%A3%E5%8E%8B%E5%8A%9B%E6%B5%8B%E8%AF%95/" title="jmeter接口压力测试">jmeter接口压力测试</a><time datetime="2020-12-16T01:13:02.000Z" title="发表于 2020-12-16 09:13:02">2020-12-16</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2020/12/08/Oracle%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="Oracle学习笔记"><img src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Oracle学习笔记"/></a><div class="content"><a class="title" href="/2020/12/08/Oracle%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="Oracle学习笔记">Oracle学习笔记</a><time datetime="2020-12-08T00:59:37.000Z" title="发表于 2020-12-08 08:59:37">2020-12-08</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2020/11/21/java%E8%99%9A%E6%8B%9F%E6%9C%BA/" title="java虚拟机"><img src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="java虚拟机"/></a><div class="content"><a class="title" href="/2020/11/21/java%E8%99%9A%E6%8B%9F%E6%9C%BA/" title="java虚拟机">java虚拟机</a><time datetime="2020-11-21T01:18:57.000Z" title="发表于 2020-11-21 09:18:57">2020-11-21</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2020/11/18/%E6%94%AF%E4%BB%98%E5%AE%9D%E6%B2%99%E7%AE%B1%E6%94%AF%E4%BB%98deomo/" title="支付宝沙箱支付demo"><img src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="支付宝沙箱支付demo"/></a><div class="content"><a class="title" href="/2020/11/18/%E6%94%AF%E4%BB%98%E5%AE%9D%E6%B2%99%E7%AE%B1%E6%94%AF%E4%BB%98deomo/" title="支付宝沙箱支付demo">支付宝沙箱支付demo</a><time datetime="2020-11-18T07:35:06.000Z" title="发表于 2020-11-18 15:35:06">2020-11-18</time></div></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2021 By Zyaire</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>由</span> <a target="_blank" rel="noopener" href="https://github.com/wzpan/hexo-generator-search" style="color:#49B1F5;">hexo-generator-search</a>
 <span>提供支持</span></div></div></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>function loadValine () {
  function initValine () {
    let initData = {
      el: '#vcomment',
      appId: 'XPiuOvb6FBDdhlXIY8AiUKcT-gzGzoHsz',
      appKey: 'h5HoeqDOzslmWuc4Pd3qOsvt',
      placeholder: 'Please leave your footprints',
      avatar: 'monsterid',
      meta: 'nick,mail,link'.split(','),
      pageSize: '10',
      lang: 'en',
      recordIP: false,
      serverURLs: '',
      emojiCDN: '',
      emojiMaps: "",
      enableQQ: false,
      path: window.location.pathname,
    }

    if (true) { 
      initData.requiredFields= ('nick,mail'.split(','))
    }
    
    if (false) {
      const otherData = false
      initData = Object.assign({}, initData, otherData)
    }
    
    const valine = new Valine(initData)
  }

  if (typeof Valine === 'function') initValine() 
  else $.getScript('https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js', initValine)
}

if ('Valine' === 'Valine' || !false) {
  if (false) btf.loadComment(document.querySelector('#vcomment'),loadValine)
  else setTimeout(() => loadValine(), 0)
} else {
  function loadOtherComment () {
    loadValine()
  }
}</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/Hexo/js/mouse_snow.min.js"></script><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-nest.min.js"></script><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/click-heart.min.js" async="async" mobile="false"></script></div></body></html>